{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nlet userSelectedDate = null; \nconst startButtonEl = document.querySelector('button[data-start]');\nconst InputEl = document.querySelector('#datetime-picker');\nconst elements = {\n  days: document.querySelector('[data-days]'),\n  hours: document.querySelector('[data-hours]'),\n  minutes: document.querySelector('[data-minutes]'),\n  seconds: document.querySelector('[data-seconds]'),\n};\nstartButtonEl.disabled = true;\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n    onClose(selectedDates) {\n      \n      if (selectedDates[0] <= Date.now()) {\n        iziToast.error({\n        title: 'Error',\n        message: 'Please choose a date in the future',\n      });\n      startButtonEl.disabled = true; \n      } else {\n          userSelectedDate = selectedDates[0];\n          startButtonEl.disabled = false;\n          \n        };\n  },\n};\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n};\nflatpickr(InputEl, options);\nstartButtonEl.addEventListener('click', () => { \n    if (userSelectedDate<= Date.now()) return;\n\n  startButtonEl.disabled = true;\n    InputEl.disabled = true;\n    const intervalId = setInterval(() => {\n        const timeLeft = userSelectedDate - Date.now();\n        \n        if (timeLeft <= 0) { \n            clearInterval(intervalId);\n            InputEl.disabled = false;\n            time(0);\n\n            return\n        };\n        time(timeLeft)\n}, 1000); \n});\nfunction time(ms) {\n    const timeComponents = convertMs(ms); \n    elements.days.textContent = pad(timeComponents.days);\n        elements.hours.textContent = pad(timeComponents.hours);\n        elements.minutes.textContent = pad(timeComponents.minutes);\n        elements.seconds.textContent = pad(timeComponents.seconds);\n}\nfunction pad(value) {\n    return String(value).padStart(2, '0');\n}\nconsole.dir(InputEl)\n"],"names":["userSelectedDate","startButtonEl","InputEl","elements","options","selectedDates","iziToast","convertMs","ms","days","hours","minutes","seconds","flatpickr","intervalId","timeLeft","time","timeComponents","pad","value"],"mappings":"+IAMA,IAAIA,EAAmB,KACvB,MAAMC,EAAgB,SAAS,cAAc,oBAAoB,EAC3DC,EAAU,SAAS,cAAc,kBAAkB,EACnDC,EAAW,CACf,KAAM,SAAS,cAAc,aAAa,EAC1C,MAAO,SAAS,cAAc,cAAc,EAC5C,QAAS,SAAS,cAAc,gBAAgB,EAChD,QAAS,SAAS,cAAc,gBAAgB,CAClD,EACAF,EAAc,SAAW,GACzB,MAAMG,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACf,QAAQC,EAAe,CAEjBA,EAAc,CAAC,GAAK,KAAK,IAAG,GAC9BC,EAAS,MAAM,CACf,MAAO,QACP,QAAS,oCACjB,CAAO,EACDL,EAAc,SAAW,KAErBD,EAAmBK,EAAc,CAAC,EAClCJ,EAAc,SAAW,GAGhC,CACH,EAEA,SAASM,EAAUC,EAAI,CAQrB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAE1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EAEpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EAEjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CACAC,EAAUX,EAASE,CAAO,EAC1BH,EAAc,iBAAiB,QAAS,IAAM,CAC1C,GAAID,GAAmB,KAAK,IAAG,EAAI,OAErCC,EAAc,SAAW,GACvBC,EAAQ,SAAW,GACnB,MAAMY,EAAa,YAAY,IAAM,CACjC,MAAMC,EAAWf,EAAmB,KAAK,IAAG,EAE5C,GAAIe,GAAY,EAAG,CACf,cAAcD,CAAU,EACxBZ,EAAQ,SAAW,GACnBc,EAAK,CAAC,EAEN,MACZ,CACQA,EAAKD,CAAQ,CACrB,EAAG,GAAI,CACP,CAAC,EACD,SAASC,EAAKR,EAAI,CACd,MAAMS,EAAiBV,EAAUC,CAAE,EACnCL,EAAS,KAAK,YAAce,EAAID,EAAe,IAAI,EAC/Cd,EAAS,MAAM,YAAce,EAAID,EAAe,KAAK,EACrDd,EAAS,QAAQ,YAAce,EAAID,EAAe,OAAO,EACzDd,EAAS,QAAQ,YAAce,EAAID,EAAe,OAAO,CACjE,CACA,SAASC,EAAIC,EAAO,CAChB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CACA,QAAQ,IAAIjB,CAAO"}